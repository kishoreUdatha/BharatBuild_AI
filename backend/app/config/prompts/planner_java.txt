
JAVA / SPRING BOOT RULES:

ðŸš¨ðŸš¨ðŸš¨ CRITICAL: NO LOMBOK ðŸš¨ðŸš¨ðŸš¨
- NEVER use @Data, @Getter, @Setter, @Builder, @NoArgsConstructor, @AllArgsConstructor
- NEVER add lombok dependency to pom.xml
- ALWAYS write explicit getters, setters, and constructors
- This is NON-NEGOTIABLE - Lombok breaks the build!

CRITICAL: PACKAGE STRUCTURE DOCUMENT (REQUIRED!)
For ALL Java projects, you MUST output a <package_structure> section that documents:
1. The base package name (e.g., com.company.project)
2. The exact package for EACH entity, enum, DTO, repository, service, controller
3. The ID type for each entity (Long, Integer, UUID)

Example format:
<package_structure>
BASE_PACKAGE: com.goldmart
ENTITIES:
  - Order: com.goldmart.model.entity.Order (ID: Long)
  - User: com.goldmart.model.entity.User (ID: Long)
  - Product: com.goldmart.model.entity.Product (ID: Long)
ENUMS:
  - OrderStatus: com.goldmart.model.enums.OrderStatus
  - UserRole: com.goldmart.model.enums.UserRole
DTOS:
  - OrderDto: com.goldmart.dto.OrderDto
  - UserDto: com.goldmart.dto.UserDto
REPOSITORIES:
  - OrderRepository: com.goldmart.repository.OrderRepository extends JpaRepository<Order, Long>
  - UserRepository: com.goldmart.repository.UserRepository extends JpaRepository<User, Long>
SERVICES:
  - OrderService: com.goldmart.service.OrderService
  - UserService: com.goldmart.service.UserService
CONTROLLERS:
  - OrderController: com.goldmart.controller.OrderController
  - UserController: com.goldmart.controller.UserController
</package_structure>

This document is CRITICAL - the Writer Agent will use it to ensure consistent packages across ALL files!

PROJECT STRUCTURE:
```
backend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”œâ”€â”€ java/com/company/project/
â”‚   â”‚   â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ SecurityConfig.java
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ WebConfig.java
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ CorsConfig.java
â”‚   â”‚   â”‚   â”œâ”€â”€ controller/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ UserController.java
â”‚   â”‚   â”‚   â”œâ”€â”€ service/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ UserService.java
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ impl/UserServiceImpl.java
â”‚   â”‚   â”‚   â”œâ”€â”€ repository/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ UserRepository.java
â”‚   â”‚   â”‚   â”œâ”€â”€ model/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ entity/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ User.java
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ dto/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ UserRequest.java
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ UserResponse.java
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ enums/
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ UserRole.java
â”‚   â”‚   â”‚   â”œâ”€â”€ security/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ JwtUtil.java
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ JwtAuthFilter.java
â”‚   â”‚   â”‚   â”œâ”€â”€ exception/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ GlobalExceptionHandler.java
â”‚   â”‚   â”‚   â””â”€â”€ Application.java
â”‚   â”‚   â””â”€â”€ resources/
â”‚   â”‚       â”œâ”€â”€ application.yml
â”‚   â”‚       â””â”€â”€ application-dev.yml
â”‚   â””â”€â”€ test/
â”œâ”€â”€ pom.xml
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ docker-compose.yml
â””â”€â”€ README.md
```

FILE PRIORITY ORDER:
- pom.xml: 1
- application.yml: 2
- Enums (UserRole.java, Status.java): 3-5
- Entities (User.java): 6-10
- DTOs: 11-15
- Repositories: 16-20
- Services: 21-25
- Security (JwtUtil, JwtAuthFilter): 26-30
- Config (SecurityConfig, WebConfig): 31-35
- Controllers: 36-40
- Application.java (main): 41
- Dockerfile: 42

BUILD-CRITICAL RULES:

1. ENUMS MUST BE SEPARATE FILES!
   WRONG: Inner enum in Entity class
   ```java
   public class Order {
       public enum OrderStatus { PENDING, COMPLETED }  // WRONG!
   }
   ```
   CORRECT: Separate file
   ```java
   // enums/OrderStatus.java
   public enum OrderStatus { PENDING, COMPLETED }
   ```

2. pom.xml MUST have all dependencies:
   ```xml
   <dependencies>
       <dependency>
           <groupId>org.springframework.boot</groupId>
           <artifactId>spring-boot-starter-web</artifactId>
       </dependency>
       <dependency>
           <groupId>org.springframework.boot</groupId>
           <artifactId>spring-boot-starter-data-jpa</artifactId>
       </dependency>
       <dependency>
           <groupId>org.springframework.boot</groupId>
           <artifactId>spring-boot-starter-security</artifactId>
       </dependency>
       <dependency>
           <groupId>org.postgresql</groupId>
           <artifactId>postgresql</artifactId>
           <scope>runtime</scope>
       </dependency>
       <!-- NO LOMBOK - Use explicit getters/setters instead -->
       <dependency>
           <groupId>io.jsonwebtoken</groupId>
           <artifactId>jjwt-api</artifactId>
           <version>0.11.5</version>
       </dependency>
   </dependencies>
   ```

3. application.yml MUST have:
   ```yaml
   server:
     port: 8080
   spring:
     datasource:
       url: jdbc:postgresql://db:5432/mydb
       username: ${DB_USER:postgres}
       password: ${DB_PASSWORD:postgres}
     jpa:
       hibernate:
         ddl-auto: update
       show-sql: true
   ```

4. Entity fields MUST match what Services use:
   - If Service calls user.getEmail(), Entity MUST have email field
   - If Service calls repo.findByEmail(), Repository MUST have that method

5. Keep each file under 300 lines:
   - Split large services into smaller ones
   - Use separate DTOs for request/response
